const formation = [
    {
        "name": "4-3-3 ATTACK",
        "id": "0",
        "pos": [
            {
                "name": "gk",
                "text": "GK",
                "xy": "452px,520px"
            },
            {
                "name": "df1",
                "text": "LB",
                "xy": "232px,400px"
            },
            {
                "name": "df2",
                "text": "CB",
                "xy": "382px,400px"
            },
            {
                "name": "df3",
                "text": "CB",
                "xy": "532px,400px"
            },
            {
                "name": "df4",
                "text": "RB",
                "xy": "682px,400px"
            },
            {
                "name": "df5",
                "text": "GK",
                "xy": "0"
            },
            {
                "name": "mf1",
                "text": "CM",
                "xy": "304px,300px"
            },
            {
                "name": "mf2",
                "text": "CAM",
                "xy": "454px,280px"
            },
            {
                "name": "mf3",
                "text": "CM",
                "xy": "604px,300px"
            },
            {
                "name": "mf4",
                "text": "GK",
                "xy": "0"
            },
            {
                "name": "mf5",
                "text": "GK",
                "xy": "0"
            },
            {
                "name": "fw1",
                "text": "LW",
                "xy": "304px,160px"
            },
            {
                "name": "fw2",
                "text": "ST",
                "xy": "454px,160px"
            },
            {
                "name": "fw3",
                "text": "RW",
                "xy": "604px,160px"
            },
            {
                "name": "fw4",
                "text": "GK",
                "xy": "0"
            }
        ]
    },
    {
        "name": "4-3-3 DEFEND",
        "id": "1",
        "pos": [
            {
                "name": "gk",
                "text": "GK",
                "xy": "452px,520px"
            },
            {
                "name": "df1",
                "text": "LB",
                "xy": "232px,400px"
            },
            {
                "name": "df2",
                "text": "CB",
                "xy": "382px,400px"
            },
            {
                "name": "df3",
                "text": "CB",
                "xy": "532px,400px"
            },
            {
                "name": "df4",
                "text": "RB",
                "xy": "682px,400px"
            },
            {
                "name": "df5",
                "text": "GK",
                "xy": "0"
            },
            {
                "name": "mf1",
                "text": "CDM",
                "xy": "304px,280px"
            },
            {
                "name": "mf2",
                "text": "CM",
                "xy": "454px,300px"
            },
            {
                "name": "mf3",
                "text": "CDM",
                "xy": "604px,280px"
            },
            {
                "name": "mf4",
                "text": "GK",
                "xy": "0"
            },
            {
                "name": "mf5",
                "text": "GK",
                "xy": "0"
            },
            {
                "name": "fw1",
                "text": "LW",
                "xy": "304px,160px"
            },
            {
                "name": "fw2",
                "text": "ST",
                "xy": "454px,160px"
            },
            {
                "name": "fw3",
                "text": "RW",
                "xy": "604px,160px"
            },
            {
                "name": "fw4",
                "text": "GK",
                "xy": "0"
            }
        ]
    },
    {
        "name": "4-3-3 HOLDING",
        "id": "2",
        "pos": [
            {
                "name": "gk",
                "text": "GK",
                "xy": "452px,520px"
            },
            {
                "name": "df1",
                "text": "LB",
                "xy": "232px,400px"
            },
            {
                "name": "df2",
                "text": "CB",
                "xy": "382px,400px"
            },
            {
                "name": "df3",
                "text": "CB",
                "xy": "532px,400px"
            },
            {
                "name": "df4",
                "text": "RB",
                "xy": "682px,400px"
            },
            {
                "name": "df5",
                "text": "GK",
                "xy": "0"
            },
            {
                "name": "mf1",
                "text": "CM",
                "xy": "304px,300px"
            },
            {
                "name": "mf2",
                "text": "CDM",
                "xy": "454px,320px"
            },
            {
                "name": "mf3",
                "text": "CM",
                "xy": "604px,300px"
            },
            {
                "name": "mf4",
                "text": "GK",
                "xy": "0"
            },
            {
                "name": "mf5",
                "text": "GK",
                "xy": "0"
            },
            {
                "name": "fw1",
                "text": "LW",
                "xy": "304px,160px"
            },
            {
                "name": "fw2",
                "text": "ST",
                "xy": "454px,160px"
            },
            {
                "name": "fw3",
                "text": "RW",
                "xy": "604px,160px"
            },
            {
                "name": "fw4",
                "text": "GK",
                "xy": "0"
            }
        ]
    },
    {
        "name": "4-3-3",
        "id": "3",
        "pos": [
            {
                "name": "gk",
                "text": "GK",
                "xy": "452px,520px"
            },
            {
                "name": "df1",
                "text": "LB",
                "xy": "232px,400px"
            },
            {
                "name": "df2",
                "text": "CB",
                "xy": "382px,400px"
            },
            {
                "name": "df3",
                "text": "CB",
                "xy": "532px,400px"
            },
            {
                "name": "df4",
                "text": "RB",
                "xy": "682px,400px"
            },
            {
                "name": "df5",
                "text": "GK",
                "xy": "0"
            },
            {
                "name": "mf1",
                "text": "CM",
                "xy": "304px,300px"
            },
            {
                "name": "mf2",
                "text": "CM",
                "xy": "454px,300px"
            },
            {
                "name": "mf3",
                "text": "CM",
                "xy": "604px,300px"
            },
            {
                "name": "mf4",
                "text": "GK",
                "xy": "0"
            },
            {
                "name": "mf5",
                "text": "GK",
                "xy": "0"
            },
            {
                "name": "fw1",
                "text": "LW",
                "xy": "304px,160px"
            },
            {
                "name": "fw2",
                "text": "ST",
                "xy": "454px,160px"
            },
            {
                "name": "fw3",
                "text": "RW",
                "xy": "604px,160px"
            },
            {
                "name": "fw4",
                "text": "GK",
                "xy": "0"
            }
        ]
    },
    {
        "name": "4-4-2 FLAT",
        "id": "4",
        "pos": [
            {
                "name": "gk",
                "text": "GK",
                "xy": "452px,520px"
            },
            {
                "name": "df1",
                "text": "LB",
                "xy": "232px,400px"
            },
            {
                "name": "df2",
                "text": "CB",
                "xy": "382px,400px"
            },
            {
                "name": "df3",
                "text": "CB",
                "xy": "532px,400px"
            },
            {
                "name": "df4",
                "text": "RB",
                "xy": "682px,400px"
            },
            {
                "name": "df5",
                "text": "GK",
                "xy": "0"
            },
            {
                "name": "mf1",
                "text": "LM",
                "xy": "254px,300px"
            },
            {
                "name": "mf2",
                "text": "CM",
                "xy": "378px,300px"
            },
            {
                "name": "mf3",
                "text": "CM",
                "xy": "504px,300px"
            },
            {
                "name": "mf4",
                "text": "RM",
                "xy": "634px,300px"
            },
            {
                "name": "mf5",
                "text": "RM",
                "xy": "0"
            },
            {
                "name": "fw1",
                "text": "ST",
                "xy": "382px,160px"
            },
            {
                "name": "fw2",
                "text": "ST",
                "xy": "532px,160px"
            },
            {
                "name": "fw3",
                "text": "RW",
                "xy": "0"
            },
            {
                "name": "fw4",
                "text": "GK",
                "xy": "0"
            }
        ]
    },
    {
        "name": "4-2-4",
        "id": "5",
        "pos": [
            {
                "name": "gk",
                "text": "GK",
                "xy": "452px,520px"
            },
            {
                "name": "df1",
                "text": "LB",
                "xy": "232px,400px"
            },
            {
                "name": "df2",
                "text": "CB",
                "xy": "382px,400px"
            },
            {
                "name": "df3",
                "text": "CB",
                "xy": "532px,400px"
            },
            {
                "name": "df4",
                "text": "RB",
                "xy": "682px,400px"
            },
            {
                "name": "df5",
                "text": "GK",
                "xy": "0"
            },
            {
                "name": "mf1",
                "text": "CM",
                "xy": "382px,300px"
            },
            {
                "name": "mf2",
                "text": "CM",
                "xy": "532px,300px"
            },
            {
                "name": "mf3",
                "text": "CM",
                "xy": "0"
            },
            {
                "name": "mf4",
                "text": "GK",
                "xy": "0"
            },
            {
                "name": "mf5",
                "text": "GK",
                "xy": "0"
            },
            {
                "name": "fw1",
                "text": "LW",
                "xy": "262px,200px"
            },
            {
                "name": "fw2",
                "text": "ST",
                "xy": "382px,160px"
            },
            {
                "name": "fw3",
                "text": "ST",
                "xy": "532px,160px"
            },
            {
                "name": "fw4",
                "text": "RW",
                "xy": "652px,200px"
            }
        ]
    },
    {
        "name": "4-2-3-1 WIDE",
        "id": "6",
        "pos": [
            {
                "name": "gk",
                "text": "GK",
                "xy": "452px,520px"
            },
            {
                "name": "df1",
                "text": "LB",
                "xy": "246px,400px"
            },
            {
                "name": "df2",
                "text": "CB",
                "xy": "382px,400px"
            },
            {
                "name": "df3",
                "text": "CB",
                "xy": "532px,400px"
            },
            {
                "name": "df4",
                "text": "RB",
                "xy": "660px,400px"
            },
            {
                "name": "df5",
                "text": "GK",
                "xy": "0"
            },
            {
                "name": "mf1",
                "text": "LM",
                "xy": "234px,280px"
            },
            {
                "name": "mf2",
                "text": "CDM",
                "xy": "338px,300px"
            },
            {
                "name": "mf3",
                "text": "CAM",
                "xy": "454px,280px"
            },
            {
                "name": "mf4",
                "text": "CDM",
                "xy": "568px,300px"
            },
            {
                "name": "mf5",
                "text": "RM",
                "xy": "682px,290px"
            },
            {
                "name": "fw1",
                "text": "GK",
                "xy": "0"
            },
            {
                "name": "fw2",
                "text": "ST",
                "xy": "454px,160px"
            },
            {
                "name": "fw3",
                "text": "GK",
                "xy": "0"
            },
            {
                "name": "fw4",
                "text": "GK",
                "xy": "0"
            }
        ]
    },
    {
        "name": "4-1-2-1-2 WIDE",
        "id": "7",
        "pos": [
            {
                "name": "gk",
                "text": "GK",
                "xy": "452px,520px"
            },
            {
                "name": "df1",
                "text": "LB",
                "xy": "232px,400px"
            },
            {
                "name": "df2",
                "text": "CB",
                "xy": "382px,400px"
            },
            {
                "name": "df3",
                "text": "CB",
                "xy": "532px,400px"
            },
            {
                "name": "df4",
                "text": "RB",
                "xy": "682px,400px"
            },
            {
                "name": "df5",
                "text": "GK",
                "xy": "0"
            },
            {
                "name": "mf1",
                "text": "LM",
                "xy": "304px,300px"
            },
            {
                "name": "mf2",
                "text": "CDM",
                "xy": "454px,300px"
            },
            {
                "name": "mf3",
                "text": "RM",
                "xy": "604px,300px"
            },
            {
                "name": "mf4",
                "text": "GK",
                "xy": "0"
            },
            {
                "name": "mf5",
                "text": "GK",
                "xy": "0"
            },
            {
                "name": "fw1",
                "text": "ST",
                "xy": "304px,200px"
            },
            {
                "name": "fw2",
                "text": "CAM",
                "xy": "454px,200px"
            },
            {
                "name": "fw3",
                "text": "ST",
                "xy": "604px,200px"
            },
            {
                "name": "fw4",
                "text": "GK",
                "xy": "0"
            }
        ]
    },
    {
        "name": "4-4-1-1 ATTACK",
        "id": "8",
        "pos": [
            {
                "name": "gk",
                "text": "GK",
                "xy": "452px,520px"
            },
            {
                "name": "df1",
                "text": "LB",
                "xy": "246px,400px"
            },
            {
                "name": "df2",
                "text": "CB",
                "xy": "382px,400px"
            },
            {
                "name": "df3",
                "text": "CB",
                "xy": "532px,400px"
            },
            {
                "name": "df4",
                "text": "RB",
                "xy": "660px,400px"
            },
            {
                "name": "df5",
                "text": "GK",
                "xy": "0"
            },
            {
                "name": "mf1",
                "text": "LM",
                "xy": "224px,300px"
            },
            {
                "name": "mf2",
                "text": "CM",
                "xy": "338px,300px"
            },
            {
                "name": "mf3",
                "text": "CF",
                "xy": "454px,280px"
            },
            {
                "name": "mf4",
                "text": "CM",
                "xy": "568px,300px"
            },
            {
                "name": "mf5",
                "text": "RM",
                "xy": "682px,300px"
            },
            {
                "name": "fw1",
                "text": "GK",
                "xy": "0"
            },
            {
                "name": "fw2",
                "text": "ST",
                "xy": "454px,160px"
            },
            {
                "name": "fw3",
                "text": "GK",
                "xy": "0"
            },
            {
                "name": "fw4",
                "text": "GK",
                "xy": "0"
            }
        ]
    },
    {
        "name": "4-1-2-1-2 NARROW",
        "id": "9",
        "pos": [
            {
                "name": "gk",
                "text": "GK",
                "xy": "452px,520px"
            },
            {
                "name": "df1",
                "text": "LB",
                "xy": "232px,400px"
            },
            {
                "name": "df2",
                "text": "CB",
                "xy": "382px,400px"
            },
            {
                "name": "df3",
                "text": "CB",
                "xy": "532px,400px"
            },
            {
                "name": "df4",
                "text": "RB",
                "xy": "682px,400px"
            },
            {
                "name": "df5",
                "text": "GK",
                "xy": "0"
            },
            {
                "name": "mf1",
                "text": "CM",
                "xy": "304px,300px"
            },
            {
                "name": "mf2",
                "text": "CDM",
                "xy": "454px,320px"
            },
            {
                "name": "mf3",
                "text": "CM",
                "xy": "604px,300px"
            },
            {
                "name": "mf4",
                "text": "GK",
                "xy": "0"
            },
            {
                "name": "mf5",
                "text": "GK",
                "xy": "0"
            },
            {
                "name": "fw1",
                "text": "ST",
                "xy": "304px,160px"
            },
            {
                "name": "fw2",
                "text": "CAM",
                "xy": "454px,200px"
            },
            {
                "name": "fw3",
                "text": "ST",
                "xy": "604px,160px"
            },
            {
                "name": "fw4",
                "text": "GK",
                "xy": "0"
            }
        ]
    },
    {
        "name": "3-4-3 DIAMOND",
        "id": "10",
        "pos": [
            {
                "name": "gk",
                "text": "GK",
                "xy": "452px,520px"
            },
            {
                "name": "df1",
                "text": "CB",
                "xy": "338px,400px"
            },
            {
                "name": "df2",
                "text": "CB",
                "xy": "454px,400px"
            },
            {
                "name": "df3",
                "text": "CB",
                "xy": "568px,400px"
            },
            {
                "name": "df4",
                "text": "RB",
                "xy": "0"
            },
            {
                "name": "df5",
                "text": "GK",
                "xy": "0"
            },
            {
                "name": "mf1",
                "text": "LM",
                "xy": "254px,300px"
            },
            {
                "name": "mf2",
                "text": "CDM",
                "xy": "378px,300px"
            },
            {
                "name": "mf3",
                "text": "CAM",
                "xy": "504px,280px"
            },
            {
                "name": "mf4",
                "text": "RM",
                "xy": "634px,300px"
            },
            {
                "name": "mf5",
                "text": "RM",
                "xy": "0"
            },
            {
                "name": "fw1",
                "text": "LW",
                "xy": "304px,200px"
            },
            {
                "name": "fw2",
                "text": "ST",
                "xy": "454px,200px"
            },
            {
                "name": "fw3",
                "text": "RW",
                "xy": "604px,200px"
            },
            {
                "name": "fw4",
                "text": "GK",
                "xy": "0"
            }
        ]
    },
    {
        "name": "3-4-3 FLAT",
        "id": "11",
        "pos": [
            {
                "name": "gk",
                "text": "GK",
                "xy": "452px,520px"
            },
            {
                "name": "df1",
                "text": "CB",
                "xy": "338px,400px"
            },
            {
                "name": "df2",
                "text": "CB",
                "xy": "454px,400px"
            },
            {
                "name": "df3",
                "text": "CB",
                "xy": "568px,400px"
            },
            {
                "name": "df4",
                "text": "RB",
                "xy": "0"
            },
            {
                "name": "df5",
                "text": "GK",
                "xy": "0"
            },
            {
                "name": "mf1",
                "text": "LM",
                "xy": "254px,300px"
            },
            {
                "name": "mf2",
                "text": "CM",
                "xy": "378px,300px"
            },
            {
                "name": "mf3",
                "text": "CM",
                "xy": "504px,300px"
            },
            {
                "name": "mf4",
                "text": "RM",
                "xy": "634px,300px"
            },
            {
                "name": "mf5",
                "text": "RM",
                "xy": "0"
            },
            {
                "name": "fw1",
                "text": "LW",
                "xy": "304px,200px"
            },
            {
                "name": "fw2",
                "text": "ST",
                "xy": "454px,200px"
            },
            {
                "name": "fw3",
                "text": "RW",
                "xy": "604px,200px"
            },
            {
                "name": "fw4",
                "text": "GK",
                "xy": "0"
            }
        ]
    },
    {
        "name": "3-5-1-1",
        "id": "12",
        "pos": [
            {
                "name": "gk",
                "text": "GK",
                "xy": "452px,520px"
            },
            {
                "name": "df1",
                "text": "CB",
                "xy": "338px,400px"
            },
            {
                "name": "df2",
                "text": "CB",
                "xy": "454px,400px"
            },
            {
                "name": "df3",
                "text": "CB",
                "xy": "568px,400px"
            },
            {
                "name": "df4",
                "text": "RB",
                "xy": "0"
            },
            {
                "name": "df5",
                "text": "GK",
                "xy": "0"
            },
            {
                "name": "mf1",
                "text": "LM",
                "xy": "224px,280px"
            },
            {
                "name": "mf2",
                "text": "CDM",
                "xy": "338px,300px"
            },
            {
                "name": "mf3",
                "text": "CM",
                "xy": "454px,280px"
            },
            {
                "name": "mf4",
                "text": "CDM",
                "xy": "568px,300px"
            },
            {
                "name": "mf5",
                "text": "RM",
                "xy": "682px,280px"
            },
            {
                "name": "fw1",
                "text": "ST",
                "xy": "382px,160px"
            },
            {
                "name": "fw2",
                "text": "CF",
                "xy": "532px,160px"
            },
            {
                "name": "fw3",
                "text": "GK",
                "xy": "0"
            },
            {
                "name": "fw4",
                "text": "GK",
                "xy": "0"
            }
        ]
    },
    {
        "name": "5-2-1-2",
        "id": "13",
        "pos": [
            {
                "name": "gk",
                "text": "GK",
                "xy": "452px,520px"
            },
            {
                "name": "df1",
                "text": "LWB",
                "xy": "214px,400px"
            },
            {
                "name": "df2",
                "text": "CB",
                "xy": "330px,420px"
            },
            {
                "name": "df3",
                "text": "CB",
                "xy": "454px,420px"
            },
            {
                "name": "df4",
                "text": "CB",
                "xy": "582px,420px"
            },
            {
                "name": "df5",
                "text": "RWB",
                "xy": "698px,400px"
            },
            {
                "name": "mf1",
                "text": "CM",
                "xy": "304px,300px"
            },
            {
                "name": "mf2",
                "text": "CAM",
                "xy": "454px,280px"
            },
            {
                "name": "mf3",
                "text": "CM",
                "xy": "604px,300px"
            },
            {
                "name": "mf4",
                "text": "RM",
                "xy": "0"
            },
            {
                "name": "mf5",
                "text": "RM",
                "xy": "0"
            },
            {
                "name": "fw1",
                "text": "ST",
                "xy": "382px,160px"
            },
            {
                "name": "fw2",
                "text": "ST",
                "xy": "532px,160px"
            },
            {
                "name": "fw3",
                "text": "RW",
                "xy": "0"
            },
            {
                "name": "fw4",
                "text": "GK",
                "xy": "0"
            }
        ]
    }
];
var selected = "0";
var posSel = "gk";
const cardData = [
    {idx: 0, name: "프리미엄 베이스", otherNames: ["프베", "베이스"], image: "./resources/cards/PremiumBase.png", color: "white"},
    {idx: 1, name: "일반 아이콘", otherNames: ["일반"], image: "./resources/cards/No-Card.png", color: "white"},
    {idx: 2, name: "프라임 아이콘", otherNames: ["프아"], image: "./resources/cards/PrimeIcon.png", color: "white"},
    {idx: 3, name: "탑 더비 아이콘", otherNames: ["탑더비"], image: "./resources/cards/TopDirby.png", color: "white"},
    {idx: 4, name: "KH12", otherNames: ["KH"], image: "./resources/cards/KH12.png", color: "white"},
    {idx: 5, name: "KH02", otherNames: ["KH", "월드투어", "WT"], image: "./resources/cards/KH02.png", color: "white"},
    {idx: 6, name: "KFA21", otherNames: ["KFA", "한국"], image: "./resources/cards/No-Card.png", color: "white"},
    {idx: 7, name: "Fantastic Duo 21", otherNames: ["판타스틱 듀오", "판듀21", "판듀"], image: "./resources/cards/FantasticDuo21.png", color: "white"},
    {idx: 8, name: "WT21 아이콘", otherNames: ["월드투어", "WT"], image: "./resources/cards/WT21.png", color: "white"},
    {idx: 9, name: "첼시 엠버서더 아이콘", otherNames: ["첼앰", "첼엠", "CMA"], image: "./resources/cards/ChelseaAmb.png", color: "white"},
    {idx: 10, name: "Top Of Europe 21 아이콘", otherNames: ["TOE", "TOE21"], image: "./resources/cards/TOE21_Icons.png", eo: 1, min: 34, sec: 0},
    {idx: 11, name: "킥오프21", otherNames: ["킥오프", "베이스"], image: "./resources/cards/KickOff21.png", color: "white"},
    {idx: 12, name: "내셔널 아이콘", otherNames: ["내셔널", "NI"], image: "./resources/cards/NationalIcon.png", color: "white"},
    {idx: 13, name: "풋마스21 아이콘", otherNames: ["풋마스", "FUTMAS"], image: "./resources/cards/Futmas21.png", color: "white"},
    {idx: 14, name: "Remember 2002", otherNames: ["2002", "리멤버2002", "리멤버", "RE02"], image: "./resources/cards/Remember02.png", color: "white"},
    {idx: 15, name: "UCL22 그룹스테이지", otherNames: ["챔스22", "22챔스", "챔스"], image: "./resources/cards/No-Card.png", color: "white"},
    {idx: 16, name: "UCL22 16강", otherNames: ["챔스22", "22챔스", "챔스"], image: "./resources/cards/UCL22_16.png", color: "white"},
    {idx: 17, name: "UCL22 8강", otherNames: ["챔스22", "22챔스", "챔스"], image: "./resources/cards/No-Card.png", color: "white"},
    {idx: 18, name: "UCL22 4강", otherNames: ["챔스22", "22챔스", "챔스"], image: "./resources/cards/No-Card.png", color: "white"},
    {idx: 19, name: "UCL22 파이널", otherNames: ["챔스22", "22챔스", "챔스"], image: "./resources/cards/UCL22_Final.png", color: "white"},
    {idx: 20, name: "UCL22 Best", otherNames: ["22챔베", "챔베22", "챔베", "챔스"], image: "./resources/cards/UCL22_Best.png", color: "white"},
    {idx: 21, name: "TOTS22", otherNames: ["토츠22", "22토츠", "토츠"], image: "./resources/cards/TOTS22.png", color: "white"},
    {idx: 22, name: "UTOTS22", otherNames: ["얼토츠22", "22얼토츠", "얼토츠", "토츠"], image: "./resources/cards/TOTS22_UT.png", color: "white"},
    {idx: 23, name: "TOTY22 Nominee", otherNames: ["22토티", "토티22", "노미니", "토티"], image: "./resources/cards/TOTY22_Nominee.png", color: "white"},
    {idx: 24, name: "TOTY22 HM", otherNames: ["22파토", "파토22", "HM", "토티", "아너블멘션"], image: "./resources/cards/TOTY22_HM.png", color: "white"},
    {idx: 25, name: "NYI Icon", otherNames: ["22토티", "토티22", "토티"], image: "./resources/cards/NYI_Icon.jpg", color: "white"},
    {idx: 26, name: "TOTY22 Final", otherNames: ["22파토", "파토22", "파토", "토티", "파이널"], image: "./resources/cards/TOTY22_Final.png", color: "white"},
    {idx: 27, name: "LEGACY22", otherNames: ["22레거시", "레거시22", "레거시"], image: "./resources/cards/Legacy22.png", color: "white"},
    {idx: 28, name: "FutureStars22", otherNames: ["퓨처스타", "퓨처"], image: "./resources/cards/No-Card.png", color: "white"},
    {idx: 29, name: "Hero22", otherNames: ["히어로22", "22히어로", "히어로"], image: "./resources/cards/Hero22.png", color: "white"},
    {idx: 30, name: "FlashBack22", otherNames: ["플래시백", "플백"], image: "./resources/cards/FlashBack22.png", color: "white"},
    {idx: 31, name: "NOS22", otherNames: ["노스22", "22노스", "노스"], image: "./resources/cards/NOS22.png", color: "white"},
    {idx: 32, name: "ISS22", otherNames: ["ISS"], image: "./resources/cards/IconSuperStar_2.png", color: "white"},
    {idx: 33, name: "레트로 썸머 22", otherNames: ["RS", "썸머"], image: "./resources/cards/RS22.png", color: "white"},
    {idx: 34, name: "레트로 썸머 22 아이콘", otherNames: ["RS", "썸머"], image: "./resources/cards/RS22_Icon.png", color: "white"},
    {idx: 35, name: "LN22 아이콘", otherNames: ["LN22", "LN", "레전더리 넘버"], image: "./resources/cards/LegendaryNumbers22.png", color: "white"},
    {idx: 36, name: "레알 엠버서더", otherNames: ["레엠", "RMA"], image: "./resources/cards/RMA22.png", color: "white"},
    {idx: 37, name: "레알 엠버서더 아이콘", otherNames: ["레엠", "RMA"], image: "./resources/cards/RMA22_Icons.png", color: "white"},
    {idx: 38, name: "TT22", otherNames: ["TT22", "22TT", "TT"], image: "./resources/cards/TopTransfers22.png", color: "white"},
    {idx: 39, name: "TT22 아이콘", otherNames: ["TT22", "22TT", "TT"], image: "./resources/cards/TT22_Icon.jpg", color: "white"},
    {idx: 40, name: "월드컵22 베이스(11.17출시)", otherNames: ["월드컵", "월베", "베이스"], image: "./resources/cards/WorldCup22_Base.jpg", color: "white"},
    {idx: 41, name: "월드컵22 라이징스타", otherNames: ["월드컵", "월스", "월컵", "라이징"], image: "./resources/cards/WorldCup22_RisingStar.png", color: "white"},
    {idx: 42, name: "월드컵22 스타", otherNames: ["월드컵", "월스", "월컵"], image: "./resources/cards/WorldCup22_Star.png", color: "white"},
    {idx: 43, name: "월드컵22 베스트", otherNames: ["월드컵", "월베", "월컵"], image: "./resources/cards/WorldCup22_Best.png", color: "white"},
    {idx: 44, name: "월드컵22 헤드라인", otherNames: ["월드컵", "월헤", "중국방석", "헤드라인", "월컵"], image: "./resources/cards/WorldCup22_Headlines.png", color: "white"},
    {idx: 45, name: "월드컵 아이콘", otherNames: ["월드컵", "월콘", "월드콘", "월컵"], image: "./resources/cards/WCIcon.png", color: "white"},
    {idx: 46, name: "IF23", otherNames: ["IF23", "이프23", "이프"], image: "./resources/cards/IF23.png", color: "white"},
    {idx: 47, name: "ISS23", otherNames: ["ISS"], image: "./resources/cards/IconSuperStar_2.png", color: "white"},
    {idx: 48, name: "Fearless23", otherNames: ["피어리스", "FL"], image: "./resources/cards/Fearless23.png", color: "white"},
    {idx: 49, name: "Fearless23 아이콘", otherNames: ["피어리스", "FL", "아이콘"], image: "./resources/cards/Fearless23_Icons.png", color: "white"},
    {idx: 50, name: "TOTS23", otherNames: ["토츠23", "23토츠", "토츠"], image: "./resources/cards/TOTS23_Moment.png", color: "white"},
    {idx: 51, name: "UTOTS23", otherNames: ["얼토츠23", "23얼토츠", "얼토츠", "토츠"], image: "./resources/cards/UTOTS23.png", color: "white"},
    {idx: 52, name: "UCL23", otherNames: ["챔스23", "23챔스", "챔스"], image: "./resources/cards/UCL23_TOP25.png", color: "white"},
    {idx: 53, name: "UCL23 Best", otherNames: ["23챔베", "챔베22", "챔베", "챔스"], image: "./resources/cards/UCL23_Best.png", color: "white"},
    {idx: 54, name: "TOTY23 Nominee", otherNames: ["토티23", "23토티", "노미니", "토티"], image: "./resources/cards/TOTY23_Low.png", color: "white"},
    {idx: 55, name: "TOTY23 Final", otherNames: ["23파토", "파토23", "파토", "파이널", "토티"], image: "./resources/cards/TOTY23_Final.png", color: "white"},
    {idx: 56, name: "Hero23", otherNames: ["히어로23", "23히어로", "히어로"], image: "./resources/cards/HERO23_A.png", color: "white"},
    {idx: 57, name: "TKL23", otherNames: ["K리그", "티케이엘", "케이리그"], image: "./resources/cards/TKL23.jpg", color: "white"},
    {idx: 58, name: "HOL23", otherNames: ["홀23", "HOL23"], image: "./resources/cards/HOL23_High.png", color: "white"},
    {idx: 59, name: "HOL23 아이콘", otherNames: ["홀23", "HOL23"], image: "./resources/cards/HOL23_Icon.png", color: "white"},
    {idx: 60, name: "Founders24", otherNames: ["파운더스24", "파운더스", "1차"], image: "./resources/cards/Founders24.png", color: "white"},
    {idx: 61, name: "Founders24 아이콘", otherNames: ["파운더스24", "파운더스", "1차", "아이콘"], image: "./resources/cards/Founders24_icon.png", color: "white"},
    {idx: 62, name: "Founders24 2차 ", otherNames: ["파운더스24", "파운더스", "2차"], image: "./resources/cards/Founders24_2.avif", color: "white"},
    {idx: 63, name: "Founders24 2차 아이콘", otherNames: ["파운더스24", "파운더스", "2차", "아이콘"], image: "./resources/cards/Founders24_2_Icon.avif", color: "white"},
    {idx: 64, name: "킥오프(23-24)", otherNames: ["킥오프", "베이스"], image: "./resources/cards/KickOff23.png", color: "white"},
    {idx: 65, name: "RecordBreaker23", otherNames: ["레코드", "레브", "레코드브레이커"], image: "./resources/cards/RecordBreaker23.png", color: "white"},
    {idx: 66, name: "UCL24 베이스", otherNames: ["챔스24", "24챔스", "베이스", "챔스"], image: "./resources/cards/UCL24_Base.avif", color: "white"},
    {idx: 67, name: "UCL24 스타", otherNames: ["챔스24", "24챔스", "스타", "챔스"], image: "./resources/cards/UCL24_Star.avif", color: "white"},
    {idx: 68, name: "유벤투스24", otherNames: ["유벤24", "유벤투스", "유벤"], image: "./resources/cards/JuventusAmb.png", color: "white"},
    {idx: 69, name: "유벤투스24 아이콘&히어로", otherNames: ["유벤24", "유벤투스", "유벤"], image: "./resources/cards/JuventusAmb_Icon.png", color: "white"},
    {idx: 70, name: "트로피 아이콘", otherNames: ["트로피", "트아"], image: "./resources/cards/TrophyIcons.png", color: "white"},
    {idx: 71, name: "KFA23&18", otherNames: ["KFA23", "KFA18", "KFA"], image: "./resources/cards/KFA23&18.png", color: "white"},
    {idx: 72, name: "Rivals", otherNames: ["라이벌스", "라이벌"], image: "./resources/cards/Rivals_Mixed.png", color: "white"},
    {idx: 73, name: "Rivals Icon", otherNames: ["라이벌스", "라이벌", "아이콘"], image: "./resources/cards/Rivals24_Icon.png", color: "white"},
    {idx: 74, name: "RuleBreakers24", otherNames: ["룰브레이커", "룰브"], image: "./resources/cards/RuleBreakers24.png", color: "white"},
    {idx: 75, name: "RuleBreakers24 아이콘", otherNames: ["룰브레이커", "룰브"], image: "./resources/cards/RuleBreakers24_Icon.png", color: "white"},
    {idx: 76, name: "삼국24", otherNames: ["삼국", "중국"], image: "./resources/cards/KO3L_Icon.png", color: "white"},
    {idx: 77, name: "PSG24", otherNames: ["생제", "파리", "피에스지", "이강인"], image: "./resources/cards/Captain24.avif", color: "white"},
    {idx: 78, name: "이터널 아이콘 LV.5", otherNames: ["이터널", "모먼트"], image: "./resources/cards/EternalIcons_LV5.png", color: "white"},
    {idx: 79, name: "Remember 2002_Others", otherNames: ["리멤버", "RE02"], image: "./resources/cards/Remember02_Others.png", color: "white"},
    {idx: 80, name: "TOTY24 LIVE", otherNames: ["토티24", "24토티", "토티"], image: "./resources/cards/TOTY24_Live.avif", color: "white"},
    {idx: 81, name: "UTOTY24", otherNames: ["토티24", "24토티", "토티", "얼토티"], image: "./resources/cards/UTOTY24.avif", color: "white"},
    {idx: 82, name: "UTOTY24 아이콘", otherNames: ["토티24", "24토티", "얼토티"], image: "./resources/cards/UTOTY24_Icon.avif", color: "white"}
];

$(function() {
    formation.forEach(function(e) {
        var opt = document.createElement("option");
        opt.setAttribute("value", e.id);
        opt.innerText = e.name;
        document.querySelector("#form-select").appendChild(opt);
    });

    document.querySelectorAll('.position').forEach(function(e) {
        e.onclick = function(t) {
            posSel = this.id;
            $('.pos-name').text(posSel);
        }
    })
});

$(document).on('change', '#form-select', function() {
    selected = $('#form-select option:selected').val();
    changeFormation();
});

function changeFormation() {
    if(selected != "") {
        $('.squad-text').text(formation[Number(selected)].name);
        formation[Number(selected)].pos.forEach(function(e) {
            if(e.xy == "0") {
                $('#' + e.name).css({display: 'none'});
            } else {
                var split = e.xy.split(",");
                $('#' + e.name).css({display: 'block', left: split[0], top: split[1], textAlign: 'center'});
                $('#' + e.name + ' > div.pos-text').text(e.text);
            }
        });
    }
}

function filteringAll() {
    if(allData != null && allData.length != 0) {
        var f = allData.filter(function(item1, idx1) {
            return allData.findIndex(function(item2, idx) {
                 return item1.name == item2.name
            }) == idx1;
        });
        allData = f;
    }
}

function searchCards() {
    if($('#inputTxt').val().length == 0) {
        $('.search-list').css({display: 'none'});
    } else {
        $('.search-list').css({display: 'block'});
        var list = document.querySelector('.search-list');
        list.innerHTML = "";
        var text = $('#inputTxt').val();
        var f = cardData.filter((v) => {
            if(v.name.indexOf(text.toUpperCase()) != -1 || v.otherNames.indexOf(text.toUpperCase()) != -1) {
                return true;
            }
            return false;
        });
        f.forEach(function(e) {
            var li = document.createElement("li");
            li.setAttribute("idx", e.idx);
            li.innerHTML = '<img style="width:25px;" src=' + e.image + '> <span style="color:black;">' + e.name + '</span>';
            li.onclick = function(e) {
                $('#' + posSel).css({
                    background: 'url(' + cardData[Number(this.getAttribute("idx"))].image + ')',
                    backgroundSize: 'contain',
                    backgroundPosition: 'center',
                    backgroundRepeat: 'no-repeat',
                    border: 'none'
                });
                $('.search-list').css({display: 'none'});
            }
            list.appendChild(li);
        });
    }
}

function checkEnter() {
    if(event.keyCode == 13) {
        searchCards();
    }
}

function searchPlayers() {
    if(allData.length != 0) {
        if($('#inputTxt').val().length == 0) {
            $('.search-list').css({display: 'none'});
        } else {
            var list = document.querySelector('.search-list');
            list.innerHTML = "";
            var f = allData.filter(v => v.name.indexOf($('#inputTxt').val()) != -1 || v.originName.indexOf($('#inputTxt').val()) != -1);
            if(f.length != 0) {
                for(var i = 0; i < f.length; i++) {
                    var sch = document.createElement("li");
                    var cdx = countryData.findIndex(e => e.name == f[i].country);
                    var idx2 = -1;
                    for(var j = 0; j < ClubsData.length; j++) {
                        if(ClubsData[j].name.includes("|")) {
                            var arr = ClubsData[j].name.split("|");
                            arr.forEach(function(n) {
                                if(n.indexOf(f[i].team) != -1) {
                                    idx2 = j;
                                    return;
                                }
                            });
                        } else {
                            if(ClubsData[j].name.indexOf(f[i].team) != -1) {
                                idx2 = j;
                                break;
                            }
                        }
                    }
                    if(ClubsData[idx2] != undefined) {
                        sch.innerHTML = '<img style="width:25px;" src=' + countryData[cdx].logos + '> <img style="width:25px;" src=' + ClubsData[idx2].logos + '> ' + '<span style="color:green;">' + f[i].pos + '</span> <b>' + f[i].name + '</b>';
                    } else {
                        sch.innerHTML = '<img style="width:25px;" src=' + countryData[cdx].logos + '> <span style="color:green;">' + f[i].pos + '</span> <b>' + f[i].name + '</b>';
                    }
                    sch.onclick = function(e) {
                        var idx = allData.findIndex(e => e.name == this.innerHTML.split("<b>")[1].split("</b>")[0]);
                        checkAnswer(allData[idx]);
                        $('#inputTxt').val("");
                        $('.search-list').css({display: 'none'});
                    }
                    list.appendChild(sch);
                    $('.search-list').css({display: 'block'});
                }
            }
        }
    }
}